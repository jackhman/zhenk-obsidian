风控系统是一个历史悠久的系统，90年代时候fico就推出了规则流引擎，作为银行业中风险审批的决策中心。传统的规则流引擎优点在于使用交互手段，使得无代码开发部署规则成为可能，为传统银行解决了技术人力不足和业务需求多变的冲突。

随着互联网产品的普遍，规则引擎在信贷之外的领域也被慢慢普及了，在对抗撸羊毛、黄牛党、黑产等领域都发挥了重要作用。不管怎么变，其实是预测的目标变了，从坏账到账号盗用，中间的方法还有使用的人员还是一致的。规则引擎可以是 运营、策略同学的工作台，是他们把离线分析结果作用于生产业务的一个工具。

以下是对规则引擎在各个领域应用实践的资料汇总。

  

## _**【实践经验篇】**_

1. **_网易风控引擎实践_**：主要用于反作弊欺诈领域的业务，例如 登录，注册，领券等

[网易考拉规则引擎平台架构设计与实践-社区博客-网易云​sq.163yun.com/blog/article/213006222321659904?spm=a2c4e.10696291.0.0.74c319a4n3RKZk![](https://pic1.zhimg.com/v2-0c40d8dc6abfc9fc3f0f6f8ad097ff3c_ipico.jpg)](https://link.zhihu.com/?target=https%3A//sq.163yun.com/blog/article/213006222321659904%3Fspm%3Da2c4e.10696291.0.0.74c319a4n3RKZk)

![](https://pic3.zhimg.com/80/v2-0be9e88dd9c254eb7ae406b26117bcd6_720w.webp)

2. **_蚂蚁金服智能风控引擎AlphaRisk_**：风控策略的运营方案，附PPT下载

[蚂蚁金服-张天翼-蚂蚁金服智能风控引擎AlphaRisk介绍​www.docin.com/p-2222786093.html](https://link.zhihu.com/?target=https%3A//www.docin.com/p-2222786093.html)

作者：张天翼，蚂蚁金服 高级专家

![](https://pic1.zhimg.com/80/v2-b279753b42719f8a645f2c085f9e29b0_720w.webp)

支付宝风控系统

[敢付敢赔背后的互联网实时风控技术－李俊奎​www.docin.com/p-1759728189.html](https://link.zhihu.com/?target=https%3A//www.docin.com/p-1759728189.html)

作者：李俊奎

  

3. **_Datavisor_**：一家做反欺诈的公司，内部模块有自动规则引擎以及特征工程

[Product Demo: The DataVisor Rules Engine » DataVisor​www.datavisor.com/intelligence-center/webinars/datavisor-rules-engine-demo/![](https://pic4.zhimg.com/v2-e6ddde817afe4110543cfee03b37c50f_180x120.jpg)](https://link.zhihu.com/?target=https%3A//www.datavisor.com/intelligence-center/webinars/datavisor-rules-engine-demo/)

[Product Demo: The DataVisor Feature Platform » DataVisor​www.datavisor.com/intelligence-center/webinars/datavisor-feature-platform-demo/![](https://pic1.zhimg.com/v2-d47a06cf67813644f13b9fc744151720_180x120.jpg)](https://link.zhihu.com/?target=https%3A//www.datavisor.com/intelligence-center/webinars/datavisor-feature-platform-demo/)

![](https://pic2.zhimg.com/80/v2-7cfa34f70d2643f98991df18e74716bd_720w.webp)

Datavisor 产品模块

4. _**Griffin，东南亚滴滴Grab的反欺诈引擎**_

[Griffin, an Anti-fraud Risk Rule Engine Making Billions of Predictions Daily​engineering.grab.com/griffin![](https://pic3.zhimg.com/v2-ede37fb18c07c1d5afc0220490104c7a_180x120.jpg)](https://link.zhihu.com/?target=https%3A//engineering.grab.com/griffin)

![](https://pic4.zhimg.com/80/v2-be8cefbbf8ed480e11d197b09e8dd8f7_720w.webp)

Griffin架构图

5. **_Argis，携程风控系统_**

![](https://pic2.zhimg.com/80/v2-da48cbe974396e31faa809692c318e9d_720w.webp)

携程系统架构

[干货 | 携程在线风控系统架构​mp.weixin.qq.com/s/muufqznNNVidPgamlcurCQ![](https://pic1.zhimg.com/v2-2a91a80f8371ca9221aa73781534658c_180x120.jpg)](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/muufqznNNVidPgamlcurCQ)

作者介绍：蒋一新，携程风险控制部技术专家，负责风控运营平台、数据分发、关系图谱、名单服务等多个风控子系统；风控引擎性能优化主要实施人员。

  

_**6. 京东，天网系统**_

新补充：20年文章

[京东集团的风控实践-InfoQ​www.infoq.cn/article/gr8q8d8cazjx3z8giar2](https://link.zhihu.com/?target=https%3A//www.infoq.cn/article/gr8q8d8cazjx3z8giar2)

作者介绍：刘宇，京东集团风控负责人、资深架构师。2018 年正式加入京东集团，与团队一起建设京东的风控体系，2020 年起负责京东集团风控中台的规划及建设。

![](https://pic3.zhimg.com/80/v2-16b522f8805b9eff9d1a00d0aa65213e_720w.webp)

  

  

京东风控系统的资料老了一些，16年的文章，以后有新的再补充

![](https://pic3.zhimg.com/80/v2-bbd1d611a71f776e36cc2bcda605a99e_720w.webp)

京东系统架构

[京东基于Spark的风控系统架构实践和技术细节-InfoQ​www.infoq.cn/article/jingdong-risk-control-system-architecture-based-on-spark](https://link.zhihu.com/?target=https%3A//www.infoq.cn/article/jingdong-risk-control-system-architecture-based-on-spark)

  

_**7.美团，风控系统**_

美团业务场景很丰富，风控平台系统作为一个集中的处理中心，如何快速接入各个业务线也是一个挑战。另外，风控决策中心作为一个判断的节点，上下游也对接了很多兄弟系统，像工作流、处罚服务、验证中心，达成了完整的从端到端的流程，用户行为->触发决策->决定 next move->业务系统处理。

![](https://pic1.zhimg.com/80/v2-55c8ddea79e31b9455f2efaee38df0b0_720w.webp)

美团风控系统

[美团点评业务风控系统构建经验​tech.meituan.com/2017/01/13/risk-control-system-experience-sharing.html![](https://pic3.zhimg.com/v2-a2cf744289f3fe474c30e73167cabef2_180x120.jpg)](https://link.zhihu.com/?target=https%3A//tech.meituan.com/2017/01/13/risk-control-system-experience-sharing.html)

[美团风险控制系统综述 - 百度文库​wenku.baidu.com/view/bfd8388d760bf78a6529647d27284b73f3423623.html](https://link.zhihu.com/?target=https%3A//wenku.baidu.com/view/bfd8388d760bf78a6529647d27284b73f3423623.html)

作者：唐义哲（[http://typd.github.io/](https://link.zhihu.com/?target=http%3A//typd.github.io/)），原风险控制技术负责人

[立论 | 我们仅讨论小而有意思的事​www.ylzhu.com/](https://link.zhihu.com/?target=http%3A//www.ylzhu.com/)

作者：朱一立，风险产品经理

[美团技术团队：复杂风控场景下，如何打造一款高效的规则引擎130 赞同 · 4 评论文章![](https://pic2.zhimg.com/v2-fc91ce5c41642634f8f9cdbdc46c8b59_180x120.jpg)](https://zhuanlan.zhihu.com/p/140916822)

作者：未知，美团技术官方账号

  

**_8. 爱奇艺，风控系统_**

![](https://pic2.zhimg.com/80/v2-b54ae6c534ceb2e5d7e66665a58af9b9_720w.webp)

爱奇艺风控系统

作者：谢丹铭，爱奇艺云平台

[https://myslide.cn/slides/4966?vertical=1​myslide.cn/slides/4966?vertical=1](https://link.zhihu.com/?target=https%3A//myslide.cn/slides/4966%3Fvertical%3D1)

  

_**9. Paypal，风控系统**_

[PayPal大数据：大数据复杂风控模型在PayPal Risk的应用​www.mayi888.com/archives/7440![](https://pic3.zhimg.com/v2-d03f719960de3750655bbd1efe2e470a_180x120.jpg)](https://link.zhihu.com/?target=https%3A//www.mayi888.com/archives/7440)

作者：张彭善：2008年硕士毕业于上海交通大学，从2010年起开始关注Hadoop的发展，2012年初加入PayPal Risk Data Science。

![](https://pic4.zhimg.com/80/v2-ac99ee0daef50c1e7427a0046a0263fb_720w.webp)

其中：特征工程开源的项目，SHIFU，[https://github.com/ShifuML/shifu](https://link.zhihu.com/?target=https%3A//github.com/ShifuML/shifu) 。

[全自动动态模型更新系统在支付风控领域的实践 | QCon-InfoQ​www.infoq.cn/video/9KoM7Sia4wxxPSXaZhdV?utm_source=related-video](https://link.zhihu.com/?target=https%3A//www.infoq.cn/video/9KoM7Sia4wxxPSXaZhdV%3Futm_source%3Drelated-video)

作者：陈丰，2012 年加入PayPal 风控与数据科学部门，多年来一直从事在线风控模型，实时及流式变量特征计算的开发工作。

![](https://pic4.zhimg.com/80/v2-87f73a740ac0bf9f684e5ea89964214b_720w.webp)

  

**_10. 融360_**

[王欢：如何构建好的智能风控工具体系？​mp.weixin.qq.com/s/XtRHX1NL6PFnY02KRsN3mA![](https://pic2.zhimg.com/v2-034fa3e8e0bba86d7c44a2f48b4da8d1_180x120.jpg)](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/XtRHX1NL6PFnY02KRsN3mA)

作者：王欢，融360高级数据算法工程师

融360和DataFunTalk合作还是比较多的，经常能看到他们的系统介绍文章。融360解决方案中比较有亮点的是特征的自动化衍生，可能和分享方都是算法同学有关，系统设计上的内容不是特别多。

![](https://pic4.zhimg.com/80/v2-a498139c22d39c4f969c81ab4948b817_720w.webp)

_**11. 第四范式**_

[智能风控中台设计与落地——张陈丞1653 播放 · 5 赞同视频![点击可播放视频](https://pic1.zhimg.com/v2-6209bf667a3ad4071dbc77dec578f51b_r.jpg?source=2231c908)​](https://www.zhihu.com/zvideo/1441838880199094273)

**_12. 度小满_**

[https://www.toutiao.com/article/7133048341625192991/?app=news_article&timestamp=1667876198&use_new_style=1&req_id=20221108105638010150154226092F0F03&group_id=7133048341625192991&share_token=3E49DDAA-CDE6-476F-B056-31E59A35F61A&tt_from=copy_link&utm_source=copy_link&utm_medium=toutiao_ios&utm_campaign=client_share&source=m_redirect&wid=1667878224766​www.toutiao.com/article/7133048341625192991/?app=news_article&timestamp=1667876198&use_new_style=1&req_id=20221108105638010150154226092F0F03&group_id=7133048341625192991&share_token=3E49DDAA-CDE6-476F-B056-31E59A35F61A&tt_from=copy_link&utm_source=copy_link&utm_medium=toutiao_ios&utm_campaign=client_share&source=m_redirect&wid=1667878224766](https://link.zhihu.com/?target=https%3A//www.toutiao.com/article/7133048341625192991/%3Fapp%3Dnews_article%26timestamp%3D1667876198%26use_new_style%3D1%26req_id%3D20221108105638010150154226092F0F03%26group_id%3D7133048341625192991%26share_token%3D3E49DDAA-CDE6-476F-B056-31E59A35F61A%26tt_from%3Dcopy_link%26utm_source%3Dcopy_link%26utm_medium%3Dtoutiao_ios%26utm_campaign%3Dclient_share%26source%3Dm_redirect%26wid%3D1667878224766)

作者：龚文，度小满资深技术专家，风控系统架构师。2014年加入百度，2016年开始从事信贷系统研发工作，2018年随百度金融拆分到现度小满，主要工作方向为信贷业务系统架构和风控系统平台建设工作。

![](https://pic2.zhimg.com/80/v2-c38de6d31737b1f9830f8935ac281481_720w.webp)

## _【他山之石】_

1. 量化交易系统

风控策略和量化交易有很多类似的地方，都是依赖数据决策来获取经济回报，在信贷领域中决策点在于一个进件用户的审批和定价，在量化交易领域则是一个交易品种某个时点上的买入或者卖出。在策略人力上也类似，数学、统计学背景的同学。不过，和假设人性本善的信贷相比，量化交易面对的是一个开放、不确定性强的问题，是一个人与人之间相互竞争的零和博弈。

交易系统对时效性的要求更强，因此系统相对于完善的交互，更加重视硬核的代码执行效率。但是在整个链路上，基于数据做生产决策的系统，流程上差异不会太大。

- 后台研究：离线样本回溯分析、模型训练、策略模拟实验
- 前台研究：策略和模型的部署、事件接入决策系统

  

![](https://pic1.zhimg.com/80/v2-87b3850b5e0cd5c7f43db656191361a4_720w.webp)

  

[Jesse：2020年一名Quant的自我修炼666 赞同 · 72 评论文章![](https://pic1.zhimg.com/v2-48b37d9dd3dad13536d09828aafa7a4c_180x120.jpg)](https://zhuanlan.zhihu.com/p/136245887)

  

## **_【开源系统篇】_**

开源系统目前看到的多数以 事件模型+规则引擎的方式配合为主，入参定义事件要素，在风控系统内可以根据这些事件要素做特征衍生（可以是查询类的变量（名单命中），解析类变量（手机号码归属地，ip城市，经纬度城市等），也可以是velocity feature（计算单位时间内的频次此类）），再依托上述变量做规则。

这种事件+规则的模式，好处在于可以快速接入（定义接口传参就可以），适用于相对简单的风控场景（登录，注册，优惠券）；但是，对于较为负责，需要做用户分群和定价并且需要外部数据交互的场景，例如风控的授信策略，就显得有些单薄。

复杂类型的开源规则引擎系统，就要看鼻祖 drools了。

  

1. _**陌陌风控系统，Aswan**_

简介：陌陌风控系统静态规则引擎，零基础简易便捷的配置多种复杂规则，实时高效管控用户异常行为

[https://github.com/momosecurity/aswan​github.com/momosecurity/aswan](https://link.zhihu.com/?target=https%3A//github.com/momosecurity/aswan)

![](https://pic2.zhimg.com/80/v2-7025433c574c7e0d93230a07f758ce6d_720w.webp)

2. **_Radar风控引擎_**

简介：实时风控引擎(Risk Engine)，自定义规则引擎(Rule Script)，完美支持中文，适用于反欺诈(Anti-fraud)应用场景，开箱即用

[https://gitee.com/freshday/radar?_from=gitee_search​gitee.com/freshday/radar?_from=gitee_search](https://link.zhihu.com/?target=https%3A//gitee.com/freshday/radar%3F_from%3Dgitee_search)

![](https://pic3.zhimg.com/80/v2-593f371d408f703243ed6462c240b9c2_720w.webp)

  

3. **_RiskControl实时业务风控系统_**

简介：轻量级JAVA实时业务风控系统架构

[https://github.com/sunpeak/riskcontrol?spm=a2c4e.10696291.0.0.17f019a4v1rgdB​github.com/sunpeak/riskcontrol?spm=a2c4e.10696291.0.0.17f019a4v1rgdB](https://link.zhihu.com/?target=https%3A//github.com/sunpeak/riskcontrol%3Fspm%3Da2c4e.10696291.0.0.17f019a4v1rgdB)

  

4. **_阿里云 风险识别系统_**

简介：非开源，阿里云上的开放系统，使用事件模型结合阿里的黑产数据，能做一些注册、营销的防控

[风险识别系统-大数据智能风控管理平台-企业风控解决方案- 阿里云​www.aliyun.com/product/saf?spm=5176.12825654.h2v3icoap.129.4b452c4aooG7jh&aly_as=nFJS4XbR![](https://pic4.zhimg.com/v2-c4455917fa0c4e0f2b44225d0cf570c7_ipico.jpg)](https://link.zhihu.com/?target=https%3A//www.aliyun.com/product/saf%3Fspm%3D5176.12825654.h2v3icoap.129.4b452c4aooG7jh%26aly_as%3DnFJS4XbR)

  

5. **_Drools_**

简介：鼻祖，基于java的功能强大的开源规则引擎

[https://www.baidu.com/link?url=oB8foPowTHGf2RBj2vdxJQd8t0LkdkfycuIolqE_t_F4IvpwQhrc9VZN_3ccoXem&wd=&eqid=fde4cf7e000038ec000000065e4e0a19​www.baidu.com/link?url=oB8foPowTHGf2RBj2vdxJQd8t0LkdkfycuIolqE_t_F4IvpwQhrc9VZN_3ccoXem&wd=&eqid=fde4cf7e000038ec000000065e4e0a19](https://link.zhihu.com/?target=https%3A//www.baidu.com/link%3Furl%3DoB8foPowTHGf2RBj2vdxJQd8t0LkdkfycuIolqE_t_F4IvpwQhrc9VZN_3ccoXem%26wd%3D%26eqid%3Dfde4cf7e000038ec000000065e4e0a19)

附上一个使用案例，pdf可下载：从Drools 规则引擎到风控反洗钱

[http://archive.keyllo.com/L-%E7%BC%96%E7%A8%8B/drools-%E4%BB%8EDrools%E8%A7%84%E5%88%99%E5%BC%95%E6%93%8E%E5%88%B0%E9%A3%8E%E6%8E%A7%E5%8F%8D%E6%B4%97%E9%92%B1%E7%B3%BB%E7%BB%9Fv0.3.2.pdf?spm=a2c4e.10696291.0.0.235519a44cmJZN&file=drools-%E4%BB%8EDrools%E8%A7%84%E5%88%99%E5%BC%95%E6%93%8E%E5%88%B0%E9%A3%8E%E6%8E%A7%E5%8F%8D%E6%B4%97%E9%92%B1%E7%B3%BB%E7%BB%9Fv0.3.2.pdf​archive.keyllo.com/L-%E7%BC%96%E7%A8%8B/drools-%E4%BB%8EDrools%E8%A7%84%E5%88%99%E5%BC%95%E6%93%8E%E5%88%B0%E9%A3%8E%E6%8E%A7%E5%8F%8D%E6%B4%97%E9%92%B1%E7%B3%BB%E7%BB%9Fv0.3.2.pdf?spm=a2c4e.10696291.0.0.235519a44cmJZN&file=drools-%E4%BB%8EDrools%E8%A7%84%E5%88%99%E5%BC%95%E6%93%8E%E5%88%B0%E9%A3%8E%E6%8E%A7%E5%8F%8D%E6%B4%97%E9%92%B1%E7%B3%BB%E7%BB%9Fv0.3.2.pdf](https://link.zhihu.com/?target=http%3A//archive.keyllo.com/L-%25E7%25BC%2596%25E7%25A8%258B/drools-%25E4%25BB%258EDrools%25E8%25A7%2584%25E5%2588%2599%25E5%25BC%2595%25E6%2593%258E%25E5%2588%25B0%25E9%25A3%258E%25E6%258E%25A7%25E5%258F%258D%25E6%25B4%2597%25E9%2592%25B1%25E7%25B3%25BB%25E7%25BB%259Fv0.3.2.pdf%3Fspm%3Da2c4e.10696291.0.0.235519a44cmJZN%26file%3Ddrools-%25E4%25BB%258EDrools%25E8%25A7%2584%25E5%2588%2599%25E5%25BC%2595%25E6%2593%258E%25E5%2588%25B0%25E9%25A3%258E%25E6%258E%25A7%25E5%258F%258D%25E6%25B4%2597%25E9%2592%25B1%25E7%25B3%25BB%25E7%25BB%259Fv0.3.2.pdf)

6. **_Urule_**

简介：URULE是一款基于RETE算法的纯Java规则引擎，提供规则集、决策表、决策树、评分卡，规则流等各种规则表现工具及基于网页的可视化设计器，可快速开发出各种复杂业务规则

Urule有付费pro版本和免费开源版本，免费开源版本可见以下链接

[youseries/urule​github.com/youseries/urule/![](https://pic2.zhimg.com/v2-da5044e23a05dde64231c5c4837748c1_ipico.jpg)](https://link.zhihu.com/?target=https%3A//github.com/youseries/urule/)

## _【规则引擎技术方案：展示、执行及其他】_

1. _**Rete算法**_

简介：规则引擎策略的执行涉及到多个组件的关联执行，往往一个规则的输入是其他规则的输出，如何构建一个高效率的执行计划，便是打造高性能，毫秒级响应规则引擎的核心。

算法的核心在于将绘制规则执行的DAG图，在DAG图的基础上，以叶子节点往上顺序执行。关于算法的实践可见：

[基于Rete 算法的Urule 规则引擎 设计与实现​juejin.im/post/5dbaa9576fb9a020891af255](https://link.zhihu.com/?target=https%3A//juejin.im/post/5dbaa9576fb9a020891af255)

[RETE算法简述 & 实践​www.jianshu.com/p/3e9afe9e0617![](https://pic1.zhimg.com/v2-e46b96378552c03b7f828ab20e451998_180x120.jpg)](https://link.zhihu.com/?target=https%3A//www.jianshu.com/p/3e9afe9e0617)

  

## _【变量中心技术方案】_

1. _**Enzyme SQL：挖财变量中心计算引擎**_

[https://www.v2ex.com/t/524040​www.v2ex.com/t/524040](https://link.zhihu.com/?target=https%3A//www.v2ex.com/t/524040)

2. **_Marble：51信用卡实时计算引擎_**

简介：51信用卡自研的特征计算平台，实现离线SQL和生产SQL统一

[https://github.com/51nb/marble​github.com/51nb/marble](https://link.zhihu.com/?target=https%3A//github.com/51nb/marble)

[51信用卡金融风控场景下实时计算引擎的设计与实践​mp.weixin.qq.com/s/Rx43XfhgdwerQWLn1eI3Ww![](https://pic2.zhimg.com/v2-a4bddb2011344980f379912b1902096d_180x120.jpg)](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/Rx43XfhgdwerQWLn1eI3Ww)

3. **_美团：搜索推荐场景下的变量计算_**

简介：美团最近对外输出的技术案例分享相当多，每年还会出年度技术年货一书。美团的业务场景多，在一些例如 交易、搜索、反欺诈等场景上，技术方案对于互金风控也有较大的参考意义。推荐 美团技术团队 公众号。

[智能搜索模型预估框架的建设与实践​mp.weixin.qq.com/s/eONsdn_wZqP4TECbBJjRaA![](https://pic1.zhimg.com/v2-3ec89debc01b9cc33bce7971ac66f3b0_180x120.jpg)](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/eONsdn_wZqP4TECbBJjRaA)

  

![](https://pic2.zhimg.com/80/v2-904e223e17c7169c7ed806a9ff89b4f9_720w.webp)

## _【其他】_

1. _**书籍：Introduction to Online Payments Risk Management**_

![](https://pic3.zhimg.com/80/v2-2092abdc1cf94adfc02f510fcf17b306_720w.webp)

下载地址：

[https://www.oreilly.com/data/free/online-payments-risk-management.csp​www.oreilly.com/data/free/online-payments-risk-management.csp](https://link.zhihu.com/?target=https%3A//www.oreilly.com/data/free/online-payments-risk-management.csp)

O'Reilly 推荐，只要注册下信息就可下载；另外，他家的电子书网站也很赞，各种技术文档在线阅读（免费试用10天），有些还有视频动画讲解。

[https://learning.oreilly.com/home/​learning.oreilly.com/home/](https://link.zhihu.com/?target=https%3A//learning.oreilly.com/home/)

![](https://pic2.zhimg.com/80/v2-5ffde18387f9f7398cacfa7b1f94d811_720w.webp)

持续更新中..