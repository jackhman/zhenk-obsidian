> [!TIPS] 简介
> 亦称： 快照、Snapshot、Memento
> **备忘录模式**是一种行为设计模式， 允许在不暴露对象实现细节的情况下保存和恢复对象之前的状态。

## 结构
- Originator：原始对象
- Caretaker：负责保存好备忘录
- Memento：备忘录，存储原始对象的状态。备忘录实际上有两个接口，一个是提供给 Caretaker 的窄接口：它只能将备忘录传递给其它对象；一个是提供给 Originator 的宽接口，允许它访问到先前状态所需的所有数据。理想情况是只允许 Originator 访问本备忘录的内部状态。
![[备忘录模式-UML图.png]]

### 基于嵌套类的实现
![[备忘录模式-基于嵌套类的实现.png]]

### 基于中间接口的实现
![[备忘录模式-基于中间接口的实现.png]]

### 封装更加严格的实现
![[备忘录模式-封装更加严格的实现.png]]


## 解析
• 记录快照（瞬时状态）
• 存盘
## 扩展知识
* 某个对象序列化，其中作为它属性的引用对象也需要序列化或者使用transient关键字标识为透明不需要进行序列化
* Java序列化把对象体量序列化很大，Protobuf 序列化体量较小
* 序列化基本都用在网络传输上