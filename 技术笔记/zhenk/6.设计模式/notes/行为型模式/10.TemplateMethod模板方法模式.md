> [!TIPS] 简介
> 亦称： Template Method、钩子函数
> **模板方法模式**是一种行为设计模式， 它在超类中定义了一个算法的框架， 允许子类在不修改结构的情况下重写算法的特定步骤。
## 解析
JDK系统自动调用其方法，重写一个方法的时候系统会自动调用，不需要手动调用
- paint(Graphics g)
- WindowListener
	* windowClosing()
	* windowXXX()
- ASM
	* ClassVisitor

## 图解
![[模板方法模式UML图.png]]

三个解析算法创建一个基类， 该类将定义调用了一系列不同文档处理步骤的模板方法。
![[模板方法模式-算法分解图解.png]]


## 应用场景
1. 当你想让客户端只扩展算法的特定步骤，而不是整个算法或其结构时，请使用Template Method模式。
2. 当你有几个类包含几乎相同的算法，但有一些细微的差异时，请使用此模式。
3. Client调用抽象类中的普通方法时里面又调用了没有实现的抽象方法（交给实现类去实现的抽象方法），这时这个抽象类中的普通方法称为模板方法。
### Servlet Api & Spring 中的应用
javax.servlet.http.HttpServlet org.springframework.web.servlet.mvc.AbstractController
## 优点
1. 你可以让客户端只覆盖大型算法的某些部分，从而减少算法其他部分发生的更改对它们的影响。
2. 你可以将重复的代码拖放到超类中。
## 栗子
```java
public class Main {  
    public static void main(String[] args) {  
        F f = new C1();
        // 调用模板方法就可以接着调用了里面的在子类实现的方法
        f.m();  
    }  
  
}  
  
abstract class F {
    // 模板方法，里面调用的抽象方法由子类重写实现
    public void m() {  
        op1();  
        op2();  
    }  
  
    abstract void op1();  
    abstract void op2();  
}  
  
class C1 extends F {  
  
    @Override  
    void op1() {  
        System.out.println("op1");  
    }  
  
    @Override  
    void op2() {  
        System.out.println("op2");  
    }  
}
```